<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.126.3"><meta name=generator content="Relearn 6.0.0+tip"><meta name=description content="Step-by-step CRaC support for a Jetty app A program can be restored in a different environment compared to the one where it was checkpointed. Dependencies on the environment need to be detected and a coordination code need to be created to update the dependencies after restore. Such dependencies are open handles for operating system resources like files and sockets, cached hostname and environment, registration in remote services, …
For now, CRaC implementation checks for open files and sockets at the checkpoint."><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Jetty :: crac.org"><meta name=twitter:description content="Step-by-step CRaC support for a Jetty app A program can be restored in a different environment compared to the one where it was checkpointed. Dependencies on the environment need to be detected and a coordination code need to be created to update the dependencies after restore. Such dependencies are open handles for operating system resources like files and sockets, cached hostname and environment, registration in remote services, …
For now, CRaC implementation checks for open files and sockets at the checkpoint."><meta property="og:url" content="https://crac.org/examples/jetty/index.html"><meta property="og:site_name" content="crac.org"><meta property="og:title" content="Jetty :: crac.org"><meta property="og:description" content="Step-by-step CRaC support for a Jetty app A program can be restored in a different environment compared to the one where it was checkpointed. Dependencies on the environment need to be detected and a coordination code need to be created to update the dependencies after restore. Such dependencies are open handles for operating system resources like files and sockets, cached hostname and environment, registration in remote services, …
For now, CRaC implementation checks for open files and sockets at the checkpoint."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Example implementations"><meta itemprop=name content="Jetty :: crac.org"><meta itemprop=description content="Step-by-step CRaC support for a Jetty app A program can be restored in a different environment compared to the one where it was checkpointed. Dependencies on the environment need to be detected and a coordination code need to be created to update the dependencies after restore. Such dependencies are open handles for operating system resources like files and sockets, cached hostname and environment, registration in remote services, …
For now, CRaC implementation checks for open files and sockets at the checkpoint."><meta itemprop=wordCount content="672"><title>Jetty :: crac.org</title>
<link href=/css/fontawesome-all.min.css?1717513879 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css?1717513879 rel=stylesheet></noscript><link href=/css/nucleus.css?1717513879 rel=stylesheet><link href=/css/auto-complete.css?1717513879 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/auto-complete.css?1717513879 rel=stylesheet></noscript><link href=/css/perfect-scrollbar.min.css?1717513879 rel=stylesheet><link href=/css/fonts.css?1717513879 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css?1717513879 rel=stylesheet></noscript><link href=/css/theme.css?1717513879 rel=stylesheet><link href=/css/theme-blue.css?1717513879 rel=stylesheet id=R-variant-style><link href=/css/chroma-learn.css?1717513879 rel=stylesheet id=R-variant-chroma-style><link href=/css/variant.css?1717513879 rel=stylesheet><link href=/css/print.css?1717513879 rel=stylesheet media=print><script src=/js/variant.js?1717513879></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../..",window.relearn.relBaseUri="../..",window.relearn.absBaseUri="https://crac.org",window.variants&&variants.init(["blue"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script></head><body class="mobile-support html" data-url=/examples/jetty/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button><div class=topbar-content><div class=topbar-content-wrapper><nav class=TableOfContents><ul><li><a href=#step-by-step-crac-support-for-a-jetty-app>Step-by-step CRaC support for a Jetty app</a></li></ul></nav></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/index.html><span itemprop=name>Coordinated Restore at Checkpoint</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/examples/index.html><span itemprop=name>Example implementations</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Jetty</span><meta itemprop=position content="3"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/examples/index.html title="Example implementations (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/examples/super-heroes/index.html title="Quarkus Super Heroes (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=jetty>Jetty</h1><h2 id=step-by-step-crac-support-for-a-jetty-app>Step-by-step CRaC support for a Jetty app</h2><p>A program can be restored in a different environment compared to the one where it was checkpointed.
Dependencies on the environment need to be detected and a coordination code need to be created to update the dependencies after restore.
Such dependencies are open handles for operating system resources like files and sockets, cached hostname and environment, registration in remote services, &mldr;</p><p>For now, CRaC implementation checks for open files and sockets at the checkpoint.
The checkpoint is aborted if one is found, also, an exception is thrown with a description of the file name or socket address.</p><p>This document describes how to implement CRaC support on an example of a sample Jetty application.</p><p>Full source code for this section can be found in <a href=https://github.com/org-crac/example-jetty rel=external target=_blank>example-jetty</a> repo.
Commit history corresponds to the steps of the tutorial with greater details.</p><p>A simple Jetty application will serve as a starting point:</p><div class="highlight wrap-code"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ServerManager</span> {
</span></span><span style=display:flex><span>    Server server;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>ServerManager</span>(<span style=color:#66d9ef>int</span> port, Handler handler) <span style=color:#66d9ef>throws</span> Exception {
</span></span><span style=display:flex><span>        server <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Server(8080);
</span></span><span style=display:flex><span>        server.<span style=color:#a6e22e>setHandler</span>(handler);
</span></span><span style=display:flex><span>        server.<span style=color:#a6e22e>start</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>App</span> <span style=color:#66d9ef>extends</span> AbstractHandler
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> ServerManager serverManager;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>handle</span>(...) {
</span></span><span style=display:flex><span>        response.<span style=color:#a6e22e>getWriter</span>().<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Hello World&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) <span style=color:#66d9ef>throws</span> Exception {
</span></span><span style=display:flex><span>        serverManager <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ServerManager(8080, <span style=color:#66d9ef>new</span> App());
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}</span></span></code></pre></div><p>The main thread creates an instance of <code>ServerManager</code> that starts managing a jetty instance.
The thread then exits, leaving the jetty instance a single non-daemon thread.</p><p>Build and start the example.
Java argument <code>-XX:CRaCCheckpointTo=PATH</code> enables CRaC and defines a path to store the image.</p><p>Use CRaC API requires adding <a href=https://github.com/CRaC/org.crac rel=external target=_blank>org.crac</a> as a maven dependency,</p><ul><li>In compile-time, org.crac package totally mirrors jdk.crac and javax.crac.</li><li>In runtime, org.crac uses reflection to detect CRaC implementation. If the one is available,
all requests to org.crac are passed to the implementation. Otherwise, requests are forwarded to a dummy implementation.</li></ul><div class="highlight wrap-code"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;groupId&gt;</span>org.crac<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;artifactId&gt;</span>crac<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;version&gt;</span>0.1.3<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span></span></span></code></pre></div><div class="highlight wrap-code"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ mvn package
</span></span><span style=display:flex><span>$ $JAVA_HOME/bin/java -XX:CRaCCheckpointTo<span style=color:#f92672>=</span>cr -jar target/example-jetty-1.0-SNAPSHOT.jar
</span></span><span style=display:flex><span>2020-06-29 18:01:32.944:INFO::main: Logging initialized @293ms to org.eclipse.jetty.util.log.StdErrLog
</span></span><span style=display:flex><span>2020-06-29 18:01:33.003:INFO:oejs.Server:main: jetty-9.4.30.v20200611; built: 2020-06-11T12:34:51.929Z; git: 271836e4c1f4612f12b7bb13ef5a92a927634b0d; jvm 14-internal+0-adhoc..jdk
</span></span><span style=display:flex><span>2020-06-29 18:01:33.045:INFO:oejs.AbstractConnector:main: Started ServerConnector@319b92f3<span style=color:#f92672>{</span>HTTP/1.1, <span style=color:#f92672>(</span>http/1.1<span style=color:#f92672>)}{</span>0.0.0.0:8080<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>2020-06-29 18:01:33.047:INFO:oejs.Server:main: Started @406ms</span></span></code></pre></div><p>Warm-up the application:</p><div class="highlight wrap-code"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ curl localhost:8080
</span></span><span style=display:flex><span>Hello World</span></span></code></pre></div><p>Use <code>jcmd</code> to trigger checkpoint:</p><div class="highlight wrap-code"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ jcmd target/example-jetty-1.0-SNAPSHOT.jar JDK.checkpoint
</span></span><span style=display:flex><span>80694:
</span></span><span style=display:flex><span>Command executed successfully</span></span></code></pre></div><p>Current jcmd implementation always reports success.
For now, refer to the console of the application for diagnostic output.
In the future all diagnostic output will be provided by <code>jcmd</code>.</p><p>The expected output of the application is next.
The checkpoint cannot be created with a listening socket, the exception is thrown.</p><div class="highlight wrap-code"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>jdk.crac.impl.CheckpointOpenSocketException: tcp6 localAddr :: localPort <span style=color:#ae81ff>8080</span> remoteAddr :: remotePort <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        at java.base/jdk.crac.Core.translateJVMExceptions<span style=color:#f92672>(</span>Core.java:80<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.base/jdk.crac.Core.checkpointRestore1<span style=color:#f92672>(</span>Core.java:137<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.base/jdk.crac.Core.checkpointRestore<span style=color:#f92672>(</span>Core.java:177<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.base/jdk.crac.Core.lambda$checkpointRestoreInternal$0<span style=color:#f92672>(</span>Core.java:194<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.base/java.lang.Thread.run<span style=color:#f92672>(</span>Thread.java:832<span style=color:#f92672>)</span></span></span></code></pre></div><p>Simpliest way to ensure the socket is closed is to shutdown the Jetty instance when checkpoint is started and start the instance again after restore.
For this:</p><ol><li>Implement methods that are used for notification<div class="highlight wrap-code"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> org.crac.Context;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> org.crac.Core;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> org.crac.Resource;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ServerManager</span> <span style=color:#66d9ef>implements</span> Resource {
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>beforeCheckpoint</span>(Context<span style=color:#f92672>&lt;?</span> <span style=color:#66d9ef>extends</span> Resource<span style=color:#f92672>&gt;</span> context) <span style=color:#66d9ef>throws</span> Exception {
</span></span><span style=display:flex><span>       server.<span style=color:#a6e22e>stop</span>();
</span></span><span style=display:flex><span>   }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>afterRestore</span>(Context<span style=color:#f92672>&lt;?</span> <span style=color:#66d9ef>extends</span> Resource<span style=color:#f92672>&gt;</span> context) <span style=color:#66d9ef>throws</span> Exception {
</span></span><span style=display:flex><span>       server.<span style=color:#a6e22e>start</span>();
</span></span><span style=display:flex><span>   }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></li><li>Register the object in a <code>Context</code> that will invoke the <code>Resource</code>&rsquo;s methods as notification.
There is a global <code>Context</code> that can be used as default choice.<div class="highlight wrap-code"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>   <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>ServerManager</span>(<span style=color:#66d9ef>int</span> port, Handler handler) <span style=color:#66d9ef>throws</span> Exception {
</span></span><span style=display:flex><span>       ...
</span></span><span style=display:flex><span>       Core.<span style=color:#a6e22e>getGlobalContext</span>().<span style=color:#a6e22e>register</span>(<span style=color:#66d9ef>this</span>);
</span></span><span style=display:flex><span>   }</span></span></code></pre></div></li></ol><p>This example is a special by presence of a single non-daemon thread owned by Jetty that keeps JVM from exit.
When <code>server.stop()</code> is called the thread exits and so does the JVM instead of the checkpoint.
To prevent this and for simplicity of example, we add another non-daemon thread that makes JVM running when the Jetty stops.</p><div class="highlight wrap-code"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>ServerManager</span>(<span style=color:#66d9ef>int</span> port, Handler handler) <span style=color:#66d9ef>throws</span> Exception {
</span></span><span style=display:flex><span>        ...
</span></span><span style=display:flex><span>        Core.<span style=color:#a6e22e>getGlobalContext</span>().<span style=color:#a6e22e>register</span>(<span style=color:#66d9ef>this</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        preventExitThread <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Thread(() <span style=color:#f92672>-&gt;</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span> (<span style=color:#66d9ef>true</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>                    Thread.<span style=color:#a6e22e>sleep</span>(1_000_000);
</span></span><span style=display:flex><span>                } <span style=color:#66d9ef>catch</span> (InterruptedException e) {
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>        preventExitThread.<span style=color:#a6e22e>start</span>();
</span></span><span style=display:flex><span>    }</span></span></code></pre></div><p>Now <code>jcmd</code> should make the app to print next in the console and exit:</p><div class="highlight wrap-code"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>2020-06-29 18:01:56.566:INFO:oejs.AbstractConnector:Thread-9: Stopped ServerConnector@319b92f3<span style=color:#f92672>{</span>HTTP/1.1, <span style=color:#f92672>(</span>http/1.1<span style=color:#f92672>)}{</span>0.0.0.0:8080<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>CR: Checkpoint ...
</span></span><span style=display:flex><span>Killed</span></span></code></pre></div><p>The image can be used to start another instances:</p><div class="highlight wrap-code"><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ $JAVA_HOME/bin/java -XX:CRaCRestoreFrom<span style=color:#f92672>=</span>cr
</span></span><span style=display:flex><span>2020-06-29 18:06:45.939:INFO:oejs.Server:Thread-9: jetty-9.4.30.v20200611; built: 2020-06-11T12:34:51.929Z; git: 271836e4c1f4612f12b7bb13ef5a92a927634b0d; jvm 14-internal+0-adhoc..jdk
</span></span><span style=display:flex><span>2020-06-29 18:06:45.942:INFO:oejs.AbstractConnector:Thread-9: Started ServerConnector@319b92f3<span style=color:#f92672>{</span>HTTP/1.1, <span style=color:#f92672>(</span>http/1.1<span style=color:#f92672>)}{</span>0.0.0.0:8080<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>2020-06-29 18:06:45.943:INFO:oejs.Server:Thread-9: Started @293756ms</span></span></code></pre></div><footer class=footline></footer></article></div></main></div><aside id=R-sidebar class=default-animation><div id=R-header-topbar class=default-animation></div><div id=R-header-wrapper class=default-animation><div id=R-header class=default-animation><h1>CRaC</h1></div><search><div class="searchbox default-animation"><i class="fas fa-search" title="Search (CTRL+ALT+f)"></i>
<label class=a11y-only for=R-search-by>Search</label>
<input data-search-input id=R-search-by name=search-by class=search-by type=search placeholder=Search...>
<button class=search-clear type=button data-search-clear title="Clear search"><i class="fas fa-times" title="Clear search"></i></button></div></search><script>var contentLangs=["en"]</script><script src=/js/auto-complete.js?1717513879 defer></script><script src=/js/lunr/lunr.min.js?1717513879 defer></script><script src=/js/lunr/lunr.stemmer.support.min.js?1717513879 defer></script><script src=/js/lunr/lunr.multi.min.js?1717513879 defer></script><script src=/js/lunr/lunr.en.min.js?1717513879 defer></script><script src=/js/search.js?1717513879 defer></script></div><div id=R-homelinks class="default-animation homelinks"><ul><li><a class=padding href=/index.html><i class="fa-fw fas fa-home"></i> Home</a></li></ul><hr class=padding></div><div id=R-content-wrapper class=highlightable><div id=R-topics><ul class="enlarge morespace collapsible-menu"><li data-nav-id=/about/index.html><a class=padding href=/about/index.html>About CRaC</a><ul id=R-subsections-c4a96bff5af2343412fa2fdfa0cfc6f6 class="morespace collapsible-menu"><li data-nav-id=/about/about-crac/index.html><a class=padding href=/about/about-crac/index.html>What is Coordinated Restore at Checkpoint?</a></li><li data-nav-id=/about/results/index.html><a class=padding href=/about/results/index.html>Startup Improvement Results</a></li><li data-nav-id=/about/jdk-project/index.html><a class=padding href=/about/jdk-project/index.html>OpenJDK CRaC Project</a></li></ul></li><li data-nav-id=/use/index.html><a class=padding href=/use/index.html>Use CRaC</a><ul id=R-subsections-299919ff4f215b0c92d1f4b60def5273 class="morespace collapsible-menu"><li data-nav-id=/use/implement-crac/index.html><a class=padding href=/use/implement-crac/index.html>Implement CRaC in your Application</a></li><li data-nav-id=/use/checkpoint-and-restore/index.html><a class=padding href=/use/checkpoint-and-restore/index.html>Create a Checkpoint and Restore from Checkpoint</a></li></ul></li><li data-nav-id=/examples/index.html class=parent><a class=padding href=/examples/index.html>Example implementations</a><ul id=R-subsections-09293e995b11754c4445aab5dfe0a859 class="morespace collapsible-menu"><li data-nav-id=/examples/jetty/index.html class=active><a class=padding href=/examples/jetty/index.html>Jetty</a></li><li data-nav-id=/examples/super-heroes/index.html><a class=padding href=/examples/super-heroes/index.html>Quarkus Super Heroes</a></li></ul></li><li data-nav-id=/frameworks/index.html><a class=padding href=/frameworks/index.html>Frameworks with CRaC integration</a><ul id=R-subsections-8a7f48c592022db704353f5d4f8a5f78 class="morespace collapsible-menu"><li data-nav-id=/frameworks/spring-boot/index.html><a class=padding href=/frameworks/spring-boot/index.html>SpringBoot</a></li><li data-nav-id=/frameworks/quarkus/index.html><a class=padding href=/frameworks/quarkus/index.html>Quarkus</a></li><li data-nav-id=/frameworks/micronaut/index.html><a class=padding href=/frameworks/micronaut/index.html>Micronaut</a></li><li data-nav-id=/frameworks/aws-lambda/index.html><a class=padding href=/frameworks/aws-lambda/index.html>AWS Lambda</a></li></ul></li><li data-nav-id=/extra-info/index.html><a class=padding href=/extra-info/index.html>Extra info about CRaC</a><ul id=R-subsections-be6e2074d30c7492aa45132e8facf754 class="morespace collapsible-menu"><li data-nav-id=/extra-info/best-practices/index.html><a class=padding href=/extra-info/best-practices/index.html>Best Practices</a></li><li data-nav-id=/extra-info/debugging/index.html><a class=padding href=/extra-info/debugging/index.html>Debugging</a></li><li data-nav-id=/extra-info/cpu-features/index.html><a class=padding href=/extra-info/cpu-features/index.html>CPU Features</a></li><li data-nav-id=/extra-info/fd-policies/index.html><a class=padding href=/extra-info/fd-policies/index.html>File descriptor policies</a></li></ul></li></ul></div><div id=R-shortcuts><div class="nav-title padding">More</div><ul class=space><li><a class=padding href=https://github.com/CRaC><i class='fab fa-github'></i> CRaC Repository</a></li><li><a class=padding href=https://openjdk.org/projects/crac/><i class='fab fa-java'></i> OpenJDK Project</a></li><li><a class=padding href=https://wiki.openjdk.org/display/crac><i class='fab fa-java'></i> OpenJDK Wiki</a></li><li><a class=padding href=https://foojay.io/today/category/crac/><i class='fab fa-java'></i> Foojay Blogs</a></li></ul></div><div class="padding footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter"></div><div id=R-menu-footer><hr class="padding default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter"><div id=R-prefooter class="footerLangSwitch footerVariantSwitch footerVisitedLinks"><ul><li id=R-select-language-container class=footerLangSwitch><div class="padding menu-control"><i class="fa-fw fas fa-language"></i>
<span>&nbsp;</span><div class=control-style><label class=a11y-only for=R-select-language>Language</label>
<select id=R-select-language onchange="location=this.querySelector(this.value).dataset.url"><option id=R-select-language-en value=#R-select-language-en data-url=/examples/jetty/index.html lang=en-us selected></option></select></div><div class=clear></div></div></li><li id=R-select-variant-container class=footerVariantSwitch><div class="padding menu-control"><i class="fa-fw fas fa-paint-brush"></i>
<span>&nbsp;</span><div class=control-style><label class=a11y-only for=R-select-variant>Theme</label>
<select id=R-select-variant onchange=window.variants&&variants.changeVariant(this.value)><option id=R-select-variant-blue value=blue selected>Blue</option></select></div><div class=clear></div></div><script>window.variants&&variants.markSelectedVariant()</script></li><li class=footerVisitedLinks><div class="padding menu-control"><i class="fa-fw fas fa-history"></i>
<span>&nbsp;</span><div class=control-style><button onclick=clearHistory()>Clear History</button></div><div class=clear></div></div></li></ul></div><div id=R-footer class="footerFooter showFooter"><p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn title=love><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p></div></div></div></aside><script src=/js/clipboard.min.js?1717513879 defer></script><script src=/js/perfect-scrollbar.min.js?1717513879 defer></script><script src=/js/theme.js?1717513879 defer></script></body></html>